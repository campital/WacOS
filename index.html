<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <link rel="icon" href="/favicons/favicon-32.png" sizes="32x32">
    <link rel="icon" href="/favicons/favicon-57.png" sizes="57x57">
    <link rel="icon" href="/favicons/favicon-76.png" sizes="76x76">
    <link rel="icon" href="/favicons/favicon-96.png" sizes="96x96">
    <link rel="icon" href="/favicons/favicon-128.png" sizes="128x128">
    <link rel="icon" href="/favicons/favicon-192.png" sizes="192x192">
    <link rel="icon" href="/favicons/favicon-228.png" sizes="228x228">
    <!-- Android -->
    <link rel="shortcut icon" sizes="196x196" href="/favicons/favicon-196.png">
    <!-- iOS -->
    <link rel="apple-touch-icon" href="/favicons/favicon-120.png" sizes="120x120">
    <link rel="apple-touch-icon" href="/favicons/favicon-152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="/favicons/favicon-180.png" sizes="180x180">
    <title>Sakyum</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Arimo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div id="bg-select"></div>

    <div class="container" id="todos">
        <div class="title-wrapper">
            <div class="title-bar">
                <!-- <img id="logo" class="window-icon" src="sakyum.svg"> -->
                <h3 class="window-title">To-do List</h3>
            </div>
        </div>
        <div class="content">
            <form action="javascript:addItem()">
                <input type="text" autocomplete="off" id="todo-name">
                <button>Add</button>
            </form>
            <ul id="todo-items"></ul>
        </div>
    </div>

    <div class="container" id="ball-game">
        <div class="title-wrapper">
            <div class="title-bar">
                <h3 class="window-title">Ball Game</h3>
            </div>
        </div>
        <div class="content">
            <p>Coming soon...</p>
        </div>
    </div>

    <div class="container" id="about">
        <div class="title-wrapper">
            <div class="title-bar">
                <h3 class="window-title">About</h3>
            </div>
        </div>
        <div class="content">
            <p>
                <strong>Welcome!</strong>
                <br><br>
                I am a hobbyist computer programmer with an affinity for making useless programs. 
                My areas of interest (and experience) mostly include operating systems, C++, Linux, Wii, iOS, reverse engineering, 3D graphics, Minecraft (command blocks and plugins), embedded systems, and hardware.
                While much of my work has involved lower-level programming, I am currently in the process of learning web development and JavaScript. I must admit that is addictingly conducive to productivity.
                <br><br>
                This website is intended to be a sandbox for my JavaScript ideas and web apps. My goal is to have a desktop-like experience where each app can be opened as a separate window with its own
                style and functionality. This website is under construction, so stay tuned for updates. I am considering putting a blog on here.
                <br><br>
                You can find me on <a href="https://github.com/campital">GitHub</a> or contact me at <a href="mailto:sakyum@sakyum.xyz">sakyum@sakyum.xyz</a>.
            </p>
        </div>
    </div>

    <script>
        function addItem() {
            let name = document.getElementById("todo-name");
            let items = document.getElementById("todo-items");
            let itemName = name.value.trim();
            name.value = '';
            if(itemName === '')
                return;

            let li = document.createElement("li");
            li.appendChild(document.createTextNode(itemName));
            items.appendChild(li);
        }

        function makeWindow(elem) {
            var titleBar = elem.children[0];
            titleBar.onmousedown = onDragStart;
            window.onresize = windowReset;
            elem.onmousedown = onWindowClick;

            var offX, offY;

            function onWindowClick() {
                var zMax = 0;
                let classNames = document.getElementsByClassName('activeWindow');
                for (i = 0; i < classNames.length; i++) {
                    zMax = Math.max(classNames[i].style.zIndex, zMax);
                    classNames[i].querySelector('.title-bar').style.background = '#f6f6f6';
                    classNames[i].style.boxShadow = '0px 0px 50px rgba(128, 128, 128, .5)';
                }

                if(!elem.classList.contains('activeWindow')) {
                    elem.classList.add('activeWindow');
                }
                elem.style.zIndex = zMax + 1;
                elem.style.boxShadow = '0px 0px 50px rgba(128, 128, 128, 1)';
                titleBar.children[0].style.background = 'linear-gradient(180deg, rgba(229,228,228,1) 0%, rgba(206,206,206,1) 100%)';
            }

            function onDragStart(e) {
                e = e || window.event;
                e.preventDefault();

                offX = elem.offsetLeft - e.clientX;
                offY = elem.offsetTop - e.clientY;

                document.onmousemove = onDrag;
                document.onmouseup = onDragStop;
            }

            function onDrag(e) {
                e = e || window.event;
                e.preventDefault();

                elem.style.left = Math.min(window.innerWidth - elem.offsetWidth - 5, offX + e.clientX) + 'px';
                elem.style.top = Math.min(window.innerHeight - elem.offsetHeight - 5, offY + e.clientY) + 'px';
            }

            function onDragStop() {
                document.onmousemove = null;
                document.onmouseup = null;
            }

            function windowReset() {
                elem.style.left = Math.min(window.innerWidth - elem.offsetWidth - 5, elem.offsetLeft) + 'px';
                elem.style.top = Math.min(window.innerHeight - elem.offsetHeight - 5, elem.offsetTop) + 'px';
            }
        }

        function initBgSelect(elem) {
            var startX, startY;
            var selectBox = document.getElementById('bg-select');

            elem.onmousedown = function (e) {
                e = e || window.event;

                if(e.target === elem) {
                    e.preventDefault();
                    startX = e.clientX;
                    startY = e.clientY;

                    selectBox.style.top = startY + 'px';
                    selectBox.style.left = startX + 'px';
                    selectBox.style.width = '0';
                    selectBox.style.height = '0';
                    selectBox.style.visibility = 'visible';

                    elem.onmousemove = moveSelect;
                    elem.onmouseup = stopSelect;
                }
            }

            function moveSelect(e) {
                e = e || window.event;
                e.preventDefault();

                let tempX = e.clientX - startX;
                if(tempX < 0) {
                    selectBox.style.left = (e.clientX) + 'px';
                    selectBox.style.width = (startX - e.clientX) + 'px';
                } else {
                    selectBox.style.left = (startX) + 'px';
                    selectBox.style.width = (tempX) + 'px';
                }
                
                let tempY = e.clientY - startY;
                if(tempY < 0) {
                    selectBox.style.top = (e.clientY) + 'px';
                    selectBox.style.height = (startY - e.clientY) + 'px';
                } else {
                    selectBox.style.top = (startY) + 'px';
                    selectBox.style.height = (tempY) + 'px';
                }
            }

            function stopSelect() {
                selectBox.style.visibility = 'hidden';
                elem.onmousemove = null;
                elem.onmouseup = null;
            }
        }

        makeWindow(document.getElementById('todos'));
        makeWindow(document.getElementById('ball-game'));
        makeWindow(document.getElementById('about'));

        initBgSelect(document.children[0]);
    </script>
</body>
</html>