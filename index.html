<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <link rel="icon" href="/favicons/favicon-32.png" sizes="32x32">
    <link rel="icon" href="/favicons/favicon-57.png" sizes="57x57">
    <link rel="icon" href="/favicons/favicon-76.png" sizes="76x76">
    <link rel="icon" href="/favicons/favicon-96.png" sizes="96x96">
    <link rel="icon" href="/favicons/favicon-128.png" sizes="128x128">
    <link rel="icon" href="/favicons/favicon-192.png" sizes="192x192">
    <link rel="icon" href="/favicons/favicon-228.png" sizes="228x228">
    <!-- Android -->
    <link rel="shortcut icon" sizes="196x196" href="/favicons/favicon-196.png">
    <!-- iOS -->
    <link rel="apple-touch-icon" href="/favicons/favicon-120.png" sizes="120x120">
    <link rel="apple-touch-icon" href="/favicons/favicon-152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="/favicons/favicon-180.png" sizes="180x180">
    <title>Sakyum</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Arimo&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div class="container" id="todos">
        <div class="title-wrapper">
            <div class="title-bar">
                <!-- <img id="logo" class="window-icon" src="sakyum.svg"> -->
                <h3 class="window-title">To-do List</h3>
            </div>
        </div>
        <div class="content">
            <form action="javascript:addItem()">
                <input type="text" autocomplete="off" id="todo-name">
                <button>Add</button>
            </form>
            <ul id="todo-items"></ul>
        </div>
    </div>

    <script>
        function addItem() {
            let name = document.getElementById("todo-name");
            let items = document.getElementById("todo-items");
            let itemName = name.value.trim();
            name.value = '';
            if(itemName === '')
                return;

            let li = document.createElement("li");
            li.appendChild(document.createTextNode(itemName));
            items.appendChild(li);
        }

        function makeDraggable(elem) {
            var titleBar = elem.children[0];
            titleBar.onmousedown = onDragStart;
            window.onresize = windowReset;

            var offX, offY;

            function onDragStart(e) {
                e = e || window.event;
                e.preventDefault();

                offX = elem.offsetLeft - e.clientX;
                offY = elem.offsetTop - e.clientY;

                document.onmousemove = onDrag;
                document.onmouseup = onDragStop;
            }

            function onDrag(e) {
                e = e || window.event;
                e.preventDefault();

                elem.style.left = Math.min(window.innerWidth - elem.offsetWidth - 5, offX + e.clientX) + 'px';
                elem.style.top = Math.min(window.innerHeight - elem.offsetHeight - 5, offY + e.clientY) + 'px';
            }

            function onDragStop() {
                document.onmousemove = null;
                document.onmouseup = null;
            }

            function windowReset() {
                elem.style.left = Math.min(window.innerWidth - elem.offsetWidth - 5, elem.offsetLeft) + 'px';
                elem.style.top = Math.min(window.innerHeight - elem.offsetHeight - 5, elem.offsetTop) + 'px';
            }
        }

        makeDraggable(document.getElementById('todos'));
    </script>
</body>
</html>